---
import Layout from '../layouts/Layout.astro';
import HomeHero from '../components/HomeHero.astro';
import ServiceCards from '../components/ServiceCards.astro';
import EmergencyService from '../components/EmergencyService.astro';
import WhyRenaz from '../components/WhyRenaz.astro';
import FeaturedServices from '../components/FeaturedServices.astro';
import TrustGuarantee from '../components/TrustGuarantee.astro';
import LocationService from '../components/LocationService.astro';
---

<Layout>
	<HomeHero />
	<ServiceCards />
	<EmergencyService />
	<WhyRenaz />
	<FeaturedServices />
	<TrustGuarantee />
	<LocationService />
</Layout>

<script is:inline>
	(function() {
		function initAnimations() {
			const observerOptions = {
				threshold: 0.1,
				rootMargin: '0px'
			};

			const observer = new IntersectionObserver(function(entries) {
				entries.forEach(function(entry) {
					if (entry.isIntersecting) {
						entry.target.classList.add('animate-in');
						observer.unobserve(entry.target);
					}
				});
			}, observerOptions);

			const leftSections = document.querySelectorAll('.hero-content-left');
			leftSections.forEach(function(section) {
				// Animate first section immediately
				if (section === leftSections[0]) {
					requestAnimationFrame(function() {
						section.classList.add('animate-in');
					});
				} else {
					observer.observe(section);
				}
			});
		}

		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', initAnimations);
		} else {
			initAnimations();
		}
		
		window.addEventListener('load', function() {
			setTimeout(initAnimations, 100);
		});
	})();
</script>
