---
import Layout from '../layouts/Layout.astro';
import commentsDoodle from '../assets/commentsDoodle.avif';

const services = [
	"Sıhhi Tesisat Çözümleri",
	"Kombi Bakım ve Arıza Çözümleri",
	"Petek Temizliği",
	"Tıkanıklık Açma",
	"Su Kaçağı Tespiti",
	"Batarya, Musluk, Klozet Tamir & Değişimi",
	"Banyo & Mutfak Yenileme (Tadilat)",
	"Diğer"
];
---

<Layout
	title="Müşteri Yorumları | renazteknik.com"
	description="Müşterilerimizin deneyimlerini ve yorumlarını okuyun. Kendi yorumunuzu da paylaşabilirsiniz."
>
	<div class="tiled-background-wrapper relative min-h-screen py-12">
		<div 
			class="tiled-background-pattern parallax-bg" 
			style={`background-image: url('${commentsDoodle.src}');`}
			aria-hidden="true"
		></div>
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10">
		<h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-[#000000] mb-6" style="font-family: 'Roboto Condensed', sans-serif;">
			Müşteri Yorumları
		</h1>
		<div class="h-1 w-24 bg-[#fad000] mb-8"></div>
		
		<div class="max-w-4xl mx-auto space-y-8">
			<!-- Comment Form -->
			<div class="bg-white p-8 rounded-lg shadow-md">
				<h2 class="text-2xl font-bold text-[#000000] mb-6" style="font-family: 'Roboto Condensed', sans-serif;">
					Yorum Yapın
				</h2>
				<form id="comment-form" class="space-y-4">
					<div>
						<label for="commenter-name" class="block text-sm font-medium text-[#000000] mb-2" style="font-family: 'Roboto Condensed', sans-serif;">
							İsim (İsteğe Bağlı)
						</label>
						<input
							type="text"
							id="commenter-name"
							name="name"
							class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#fad000] focus:border-[#fad000] outline-none"
							placeholder="İsimsiz olarak yorum yapmak için boş bırakın"
						/>
					</div>
					
					<div>
						<label for="comment-service" class="block text-sm font-medium text-[#000000] mb-2" style="font-family: 'Roboto Condensed', sans-serif;">
							Kullandığınız Hizmet <span class="text-red-500">*</span>
						</label>
						<select
							id="comment-service"
							name="service"
							required
							class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#fad000] focus:border-[#fad000] outline-none"
						>
							<option value="">Hizmet Seçiniz</option>
							{services.map((service) => (
								<option value={service}>{service}</option>
							))}
						</select>
					</div>
					
					<div>
						<label for="comment-text" class="block text-sm font-medium text-[#000000] mb-2" style="font-family: 'Roboto Condensed', sans-serif;">
							Yorumunuz <span class="text-red-500">*</span>
						</label>
						<textarea
							id="comment-text"
							name="comment"
							required
							rows="5"
							class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#fad000] focus:border-[#fad000] outline-none resize-none"
							placeholder="Yorumunuzu buraya yazın..."
						></textarea>
					</div>
					
					<button
						type="submit"
						class="w-full bg-[#fad000] text-[#000000] font-bold py-3 px-6 rounded-lg hover:bg-[#e6c200] transition-colors duration-200 uppercase tracking-wider"
						style="font-family: 'Roboto Condensed', sans-serif;"
					>
						Yorumu Gönder
					</button>
				</form>
			</div>
			
			<!-- Comments Display -->
			<div id="comments-container" class="space-y-6">
				<div class="bg-white p-8 rounded-lg shadow-md">
					<p class="text-lg text-[#000000] text-center" style="font-family: 'Roboto Condensed', sans-serif;">
						Henüz yorum yapılmamış. İlk yorumu siz yapın!
					</p>
				</div>
			</div>
			
			<!-- Pagination -->
			<div id="pagination-container" class="hidden flex justify-center items-center space-x-2">
				<!-- Pagination buttons will be generated here -->
			</div>
		</div>
	</div>
</div>
</Layout>

<style>
	.tiled-background-wrapper {
		--tile-size: 200px;
		background-color: #eeeeee;
		position: relative;
	}

	.tiled-background-pattern {
		position: absolute;
		inset: 0;
		pointer-events: none;
		z-index: 0;
		opacity: 0.2;
		background-size: 200px 200px;
		background-repeat: repeat;
		background-position: 0 0;
	}

	.tiled-background-wrapper > div:not(.tiled-background-pattern) {
		position: relative;
		z-index: 1;
	}

	.parallax-bg {
		will-change: transform;
		backface-visibility: hidden;
		-webkit-backface-visibility: hidden;
	}

	.comment-item {
		border-left: 3px solid #fad000;
	}
	
	.reply-item {
		margin-left: 2rem;
		border-left: 2px solid #e0e0e0;
	}
</style>

<script>
	import '../lib/comments-script';
</script>

